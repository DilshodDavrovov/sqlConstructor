(()=>{"use strict";var e={181:(e,t,n)=>{var s=n(471),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("aside",{staticClass:"sidebar"},[e._m(0),t("div",{staticClass:"list"},e._l(e.extendedSchema.tables,function(n){return t("div",{key:n.name,staticClass:"panel",staticStyle:{padding:"8px"}},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between",cursor:"pointer"},on:{click:function(t){return e.toggleExpand(n.name)}}},[t("div",[t("strong",[e._v(e._s(n.name))]),n.isCTE?t("span",{staticClass:"chip",staticStyle:{"font-size":"10px","margin-left":"4px"}},[e._v("CTE")]):e._e(),t("span",{staticClass:"muted"},[e._v(" ("+e._s(n.fields.length)+")")])]),t("span",{staticClass:"muted"},[e._v(e._s(e.isExpanded(n.name)?"−":"+"))])]),e.isExpanded(n.name)?t("div",{staticClass:"list",staticStyle:{"margin-top":"6px"}},e._l(n.fields,function(s){return t("button",{key:n.name+"."+s.name,staticClass:"chip",on:{click:function(t){return t.stopPropagation(),e.addFieldFromSidebar(n.name,s.name)}}},[e._v(" "+e._s(n.name)+"."+e._s(s.name)+" ")])}),0):e._e()])}),0),t("p",{staticClass:"muted"},[e._v("Совет: раскройте таблицу и нажмите на нужное поле")])]),t("section",{staticClass:"content"},[t("div",{staticClass:"toolbar"},[t("h1",[e._v("SQL Конструктор")]),t("div",{staticClass:"spacer"}),t("button",{staticClass:"primary",on:{click:e.copySQL}},[e._v("Копировать SQL")])]),t("div",{staticClass:"tabs-bar"},[t("div",{staticClass:"row",staticStyle:{"flex-wrap":"nowrap",gap:"8px","align-items":"center","min-width":"0"}},[t("div",{staticClass:"row",staticStyle:{gap:"8px","overflow-x":"auto","flex-shrink":"1","min-width":"0"}},[t("div",{staticClass:"chip",class:{active:-1===e.store.currentCTEIndex},staticStyle:{"user-select":"none"},on:{click:function(t){return e.selectCTE(-1)}}},[e._v(" Основной запрос ")]),e._l(e.store.ctes,function(n,s){return t("div",{key:"cte-"+s,staticClass:"chip",class:{active:s===e.store.currentCTEIndex},staticStyle:{"user-select":"none"},on:{click:function(t){return e.selectCTE(s)}}},[e._v(" "+e._s(n.name)+" ")])})],2),t("button",{staticClass:"success",staticStyle:{"flex-shrink":"0"},on:{click:e.addCTE}},[e._v("+ Добавить CTE")])])]),-1===e.store.currentCTEIndex?t("div",{staticClass:"tabs-bar"},[t("div",{staticClass:"row",staticStyle:{"flex-wrap":"nowrap",gap:"8px","align-items":"center","min-width":"0"}},[t("div",{staticClass:"row",staticStyle:{gap:"8px","overflow-x":"auto","flex-shrink":"1","min-width":"0"}},e._l(e.store.queries,function(n,s){return t("div",{key:s,staticClass:"chip",class:{active:s===e.store.currentQueryIndex},staticStyle:{"user-select":"none"},on:{click:function(t){return e.selectQuery(s)}}},[e._v(" "+e._s(n.name||"Запрос "+(s+1))+" ")])}),0),t("button",{staticClass:"success",staticStyle:{"flex-shrink":"0"},on:{click:e.addQuery}},[e._v("+ Добавить запрос")]),e.store.currentQueryIndex>0?t("label",{staticStyle:{display:"flex","align-items":"center",gap:"6px","white-space":"nowrap","flex-shrink":"0"}},[e._v(" UNION ALL: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.current.unionAllNext,expression:"current.unionAllNext"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.current.unionAllNext)?e._i(e.current.unionAllNext,null)>-1:e.current.unionAllNext},on:{change:function(t){var n=e.current.unionAllNext,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=e._i(n,i);s.checked?o<0&&e.$set(e.current,"unionAllNext",n.concat([i])):o>-1&&e.$set(e.current,"unionAllNext",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.current,"unionAllNext",r)}}})]):e._e()])]):e._e(),e.store.currentCTEIndex>=0&&e.currentCTE?t("div",{staticClass:"tabs-bar"},[t("div",{staticClass:"row",staticStyle:{"flex-wrap":"nowrap",gap:"8px","align-items":"center","min-width":"0"}},[t("div",{staticClass:"row",staticStyle:{gap:"8px","overflow-x":"auto","flex-shrink":"1","min-width":"0"}},e._l(e.currentCTE.queries,function(n,s){return t("div",{key:"cte-query-"+s,staticClass:"chip",class:{active:s===e.currentCTE.currentQueryIndex},staticStyle:{"user-select":"none"},on:{click:function(t){return e.selectCTEQuery(s)}}},[e._v(" "+e._s(n.name||"Подзапрос "+(s+1))+" ")])}),0),t("button",{staticClass:"success",staticStyle:{"flex-shrink":"0"},on:{click:e.addCTEQuery}},[e._v("+ Добавить подзапрос")]),e.currentCTE&&e.currentCTE.currentQueryIndex>0?t("label",{staticStyle:{display:"flex","align-items":"center",gap:"6px","white-space":"nowrap","flex-shrink":"0"}},[e._v(" UNION ALL: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.current.unionAllNext,expression:"current.unionAllNext"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.current.unionAllNext)?e._i(e.current.unionAllNext,null)>-1:e.current.unionAllNext},on:{change:function(t){var n=e.current.unionAllNext,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=e._i(n,i);s.checked?o<0&&e.$set(e.current,"unionAllNext",n.concat([i])):o>-1&&e.$set(e.current,"unionAllNext",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.current,"unionAllNext",r)}}})]):e._e()])]):e._e(),t("datalist",{attrs:{id:"field-options"}},e._l(e.availableFields,function(n){return t("option",{key:n,domProps:{value:n}},[e._v(e._s(n))])}),0),t("div",{staticClass:"main"},[t("div",{staticClass:"panel scroll"},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between","margin-bottom":"10px"}},[t("div",{staticClass:"row",staticStyle:{"align-items":"center",gap:"10px"}},[t("h2",{staticStyle:{margin:"0"}},[e._v("Выбранные поля")]),e.store.currentCTEIndex>=0&&e.currentCTE&&0===e.currentCTE.currentQueryIndex?t("div",{staticClass:"row",staticStyle:{"align-items":"center",gap:"6px"}},[t("label",[e._v("Имя CTE:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.currentCTE.name,expression:"currentCTE.name"}],staticStyle:{"max-width":"120px"},attrs:{type:"text",placeholder:"cte_name"},domProps:{value:e.currentCTE.name},on:{input:function(t){t.target.composing||e.$set(e.currentCTE,"name",t.target.value)}}})]):e._e()]),t("div",{staticClass:"row",staticStyle:{gap:"8px"}},[t("button",{on:{click:e.addCustomField}},[e._v("+ Добавить поле")]),e.store.currentCTEIndex>=0&&e.store.ctes.length>0&&e.currentCTE&&0===e.currentCTE.currentQueryIndex?t("button",{staticClass:"danger",attrs:{title:"Удалить CTE"},on:{click:function(t){return e.removeCTE(e.store.currentCTEIndex)}}},[e._v(" Удалить CTE ")]):e._e(),-1===e.store.currentCTEIndex&&e.store.queries.length>1?t("button",{staticClass:"danger",attrs:{title:"Удалить запрос"},on:{click:function(t){return e.removeQuery(e.store.currentQueryIndex)}}},[e._v(" Удалить запрос ")]):e._e(),e.store.currentCTEIndex>=0&&e.currentCTE&&e.currentCTE.queries.length>1?t("button",{staticClass:"danger",attrs:{title:"Удалить подзапрос"},on:{click:function(t){return e.removeCTEQuery(e.currentCTE.currentQueryIndex)}}},[e._v(" Удалить подзапрос ")]):e._e()])]),t("div",{staticClass:"section"},[0===e.current.fields.length?t("div",{staticClass:"muted"},[e._v("Добавьте поля из дерева слева")]):t("div",{staticClass:"table"},[e._m(1),e._l(e.current.fields,function(n,s){return t("div",{key:n.table+"."+n.name,staticClass:"row"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:n.expression,expression:"sf.expression"}],staticStyle:{width:"100%"},attrs:{type:"text",placeholder:n.table?n.table+"."+n.name:"Выражение",list:"field-options"},domProps:{value:n.expression},on:{input:[function(t){t.target.composing||e.$set(n,"expression",t.target.value)},function(t){return e.onFieldExpressionChange(n)}]}})]),t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:n.alias,expression:"sf.alias"}],attrs:{type:"text",placeholder:n.name},domProps:{value:n.alias},on:{input:function(t){t.target.composing||e.$set(n,"alias",t.target.value)}}})]),t("div",[t("select",{directives:[{name:"model",rawName:"v-model",value:n.agg,expression:"sf.agg"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(n,"agg",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:""}},[e._v("(нет)")]),t("option",[e._v("COUNT")]),t("option",[e._v("SUM")]),t("option",[e._v("AVG")]),t("option",[e._v("MIN")]),t("option",[e._v("MAX")])])]),t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t("button",{staticClass:"ghost",attrs:{title:"Вверх",disabled:0===s},on:{click:function(t){return e.moveFieldUp(s)}}},[e._v("▲")]),t("button",{staticClass:"ghost",attrs:{title:"Вниз",disabled:s===e.current.fields.length-1},on:{click:function(t){return e.moveFieldDown(s)}}},[e._v("▼")]),t("button",{staticClass:"ghost",attrs:{title:"Удалить"},on:{click:function(t){return e.removeField(n.table,n.name)}}},[e._v("×")])])])})],2)]),t("div",{staticClass:"section"},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t("h2",{staticStyle:{margin:"0"}},[e._v("Соединения (JOIN)")]),t("button",{on:{click:e.addJoin}},[e._v("Добавить JOIN")])]),t("div",{staticClass:"list"},[0===e.current.joins.length?t("div",{staticClass:"muted"},[e._v("Нет соединений")]):e._e(),e._l(e.current.joins,function(n,s){return t("div",{key:s,staticClass:"grid-3",staticStyle:{"align-items":"end"}},[t("div",[t("label",[e._v("Тип")]),t("select",{directives:[{name:"model",rawName:"v-model",value:n.type,expression:"j.type"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(n,"type",t.target.multiple?s:s[0])}}},[t("option",[e._v("INNER")]),t("option",[e._v("LEFT")]),t("option",[e._v("RIGHT")]),t("option",[e._v("FULL")])])]),t("div",[t("label",[e._v("Таблица")]),t("select",{directives:[{name:"model",rawName:"v-model",value:n.rightTable,expression:"j.rightTable"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(n,"rightTable",t.target.multiple?s:s[0])}}},e._l(e.allTables,function(n){return t("option",{key:n,domProps:{value:n}},[e._v(e._s(n))])}),0)]),t("div",{staticClass:"row",staticStyle:{gap:"6px"}},[t("button",{staticClass:"ghost",on:{click:function(t){return e.addJoinCondition(n)}}},[e._v("+ Условие")]),t("button",{staticClass:"danger",on:{click:function(t){return e.removeJoin(s)}}},[e._v("Удалить")])]),e._l(n.on,function(s,r){return t("div",{key:r,staticClass:"grid-4",staticStyle:{"grid-column":"1/-1"}},[t("div",[t("label",[e._v("Левая сторона")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.left,expression:"c.left"}],attrs:{type:"text",placeholder:"orders.user_id",list:"field-options"},domProps:{value:s.left},on:{input:[function(t){t.target.composing||e.$set(s,"left",t.target.value)},function(t){return e.onFieldExpressionChange({expression:s.left})}]}})]),t("div",[t("label",[e._v("Оператор")]),t("select",{directives:[{name:"model",rawName:"v-model",value:s.op,expression:"c.op"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(s,"op",t.target.multiple?n:n[0])}}},[t("option",[e._v("=")]),t("option",[e._v("!=")]),t("option",[e._v(">")]),t("option",[e._v("<")])])]),t("div",[t("label",[e._v("Правая сторона")]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.right,expression:"c.right"}],attrs:{type:"text",placeholder:"users.id",list:"field-options"},domProps:{value:s.right},on:{input:[function(t){t.target.composing||e.$set(s,"right",t.target.value)},function(t){return e.onFieldExpressionChange({expression:s.right})}]}})]),t("div",{staticStyle:{"align-self":"end"}},[t("button",{staticClass:"danger",attrs:{title:"Удалить условие"},on:{click:function(t){return e.removeJoinCondition(n,r)}}},[e._v("×")])])])}),t("div",{staticClass:"hr",staticStyle:{"grid-column":"1/-1"}})],2)})],2)]),t("div",{staticClass:"section"},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t("h2",{staticStyle:{margin:"0"}},[e._v("Условия (WHERE)")]),t("button",{on:{click:e.addFilter}},[e._v("Добавить условие")])]),t("div",{staticClass:"list"},[0===e.current.filters.length?t("div",{staticClass:"muted"},[e._v("Нет условий")]):e._e(),e._l(e.current.filters,function(n,s){return t("div",{key:s,staticClass:"grid-3",staticStyle:{"align-items":"end"}},[t("div",[t("label",[e._v("Поле")]),t("input",{directives:[{name:"model",rawName:"v-model",value:n.field,expression:"f.field"}],attrs:{type:"text",placeholder:"users.age",list:"field-options"},domProps:{value:n.field},on:{input:[function(t){t.target.composing||e.$set(n,"field",t.target.value)},function(t){return e.onFieldExpressionChange({expression:n.field})}]}})]),t("div",[t("label",[e._v("Оператор")]),t("select",{directives:[{name:"model",rawName:"v-model",value:n.op,expression:"f.op"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(n,"op",t.target.multiple?s:s[0])}}},[t("option",[e._v("=")]),t("option",[e._v("!=")]),t("option",[e._v(">")]),t("option",[e._v("<")]),t("option",[e._v(">=")]),t("option",[e._v("<=")]),t("option",[e._v("LIKE")]),t("option",[e._v("IN")]),t("option",[e._v("BETWEEN")]),t("option",[e._v("IS NULL")]),t("option",[e._v("IS NOT NULL")])])]),t("div",[t("label",[e._v("Значение")]),t("input",{directives:[{name:"model",rawName:"v-model",value:n.value,expression:"f.value"}],attrs:{type:"text",placeholder:"30 или 'john' или (1,2)"},domProps:{value:n.value},on:{input:function(t){t.target.composing||e.$set(n,"value",t.target.value)}}})]),t("div",{staticStyle:{"grid-column":"1/-1",display:"flex",gap:"8px","align-items":"center"}},[t("label",[e._v("Связь со след. условием")]),t("select",{directives:[{name:"model",rawName:"v-model",value:n.logic,expression:"f.logic"}],staticStyle:{width:"120px"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(n,"logic",t.target.multiple?s:s[0])}}},[t("option",[e._v("AND")]),t("option",[e._v("OR")])]),t("button",{staticClass:"danger",staticStyle:{"margin-left":"auto"},on:{click:function(t){return e.removeFilter(s)}}},[e._v("Удалить")])]),t("div",{staticClass:"hr",staticStyle:{"grid-column":"1/-1"}})])})],2)]),t("div",{staticClass:"section grid-2"},[t("div",{staticClass:"panel"},[t("h2",[e._v("Группировка")]),t("div",{staticClass:"list"},[t("div",{staticClass:"row"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.current.groupByInput,expression:"current.groupByInput"}],attrs:{type:"text",placeholder:"users.country, users.city",list:"field-options"},domProps:{value:e.current.groupByInput},on:{input:[function(t){t.target.composing||e.$set(e.current,"groupByInput",t.target.value)},function(t){return e.onFieldExpressionChange({expression:e.current.groupByInput})}]}}),t("button",{on:{click:e.addGroup}},[e._v("Добавить")])]),t("div",{staticClass:"row",staticStyle:{"flex-wrap":"wrap",gap:"6px"}},e._l(e.current.groupBy,function(n,s){return t("span",{key:s,staticClass:"chip"},[e._v(" "+e._s(n)+" "),t("button",{staticClass:"ghost",on:{click:function(t){return e.removeGroup(s)}}},[e._v("×")])])}),0)]),t("div",{staticClass:"hr"}),t("h2",[e._v("Сортировка")]),t("div",{staticClass:"list"},[t("div",{staticClass:"row"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.current.orderByInput.field,expression:"current.orderByInput.field"}],attrs:{type:"text",placeholder:"users.created_at",list:"field-options"},domProps:{value:e.current.orderByInput.field},on:{input:[function(t){t.target.composing||e.$set(e.current.orderByInput,"field",t.target.value)},function(t){return e.onFieldExpressionChange({expression:e.current.orderByInput.field})}]}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.current.orderByInput.dir,expression:"current.orderByInput.dir"}],staticStyle:{width:"120px"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.current.orderByInput,"dir",t.target.multiple?n:n[0])}}},[t("option",[e._v("ASC")]),t("option",[e._v("DESC")])]),t("button",{on:{click:e.addOrder}},[e._v("Добавить")])]),t("div",{staticClass:"list"},e._l(e.current.orderBy,function(n,s){return t("div",{key:s,staticClass:"row",staticStyle:{"justify-content":"space-between"}},[t("span",[e._v(e._s(n.field)+" "+e._s(n.dir))]),t("button",{staticClass:"ghost",on:{click:function(t){return e.removeOrder(s)}}},[e._v("×")])])}),0)]),t("div",{staticClass:"hr"}),t("h2",[e._v("Лимит")]),t("div",{staticClass:"row"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.current.limit,expression:"current.limit",modifiers:{number:!0}}],staticStyle:{"max-width":"140px"},attrs:{type:"number",min:"0",placeholder:"100"},domProps:{value:e.current.limit},on:{input:function(t){t.target.composing||e.$set(e.current,"limit",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.current.offset,expression:"current.offset",modifiers:{number:!0}}],staticStyle:{"max-width":"140px"},attrs:{type:"number",min:"0",placeholder:"0"},domProps:{value:e.current.offset},on:{input:function(t){t.target.composing||e.$set(e.current,"offset",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])])])]),t("div",{staticClass:"panel scroll",staticStyle:{"min-height":"0"}},[t("div",{staticClass:"row",staticStyle:{"justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},[t("h2",{staticStyle:{margin:"0"}},[e._v("SQL")]),t("div",{staticClass:"row",staticStyle:{gap:"8px"}},[e.isEditingSQL?t("button",{staticClass:"success",attrs:{title:"Применить изменения"},on:{click:e.applySQLChanges}},[e._v("Применить")]):e._e(),e.isEditingSQL?t("button",{staticClass:"ghost",attrs:{title:"Отменить изменения"},on:{click:e.cancelSQLEditing}},[e._v("Отмена")]):e._e(),e.isEditingSQL?e._e():t("button",{staticClass:"ghost",attrs:{title:"Редактировать SQL"},on:{click:e.startSQLEditing}},[e._v("Редактировать")])])]),e.isEditingSQL?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editableSQL,expression:"editableSQL"}],staticClass:"sql",staticStyle:{resize:"vertical","font-family":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace","min-height":"160px","white-space":"pre"},domProps:{value:e.editableSQL},on:{input:function(t){t.target.composing||(e.editableSQL=t.target.value)}}}):t("pre",{staticClass:"sql"},[e._v(e._s(e.sql))])])])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{"margin-bottom":"10px"}},[t("strong",[e._v("Схема БД")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"thead"},[t("div",[e._v("Поле")]),t("div",[e._v("Алиас")]),t("div",[e._v("Агрегация")]),t("div")])}];const o={tables:[{name:"users",fields:[{name:"id"},{name:"name"},{name:"email"},{name:"age"},{name:"country"},{name:"created_at"}]},{name:"orders",fields:[{name:"id"},{name:"user_id"},{name:"total"},{name:"status"},{name:"created_at"}]},{name:"products",fields:[{name:"id"},{name:"name"},{name:"price"},{name:"category"}]},{name:"order_items",fields:[{name:"id"},{name:"order_id"},{name:"product_id"},{name:"qty"},{name:"price"}]}]};function l(){return{name:"Запрос",selectedTables:[],fields:[],joins:[],filters:[],groupBy:[],orderBy:[],limit:null,offset:null,groupByInput:"",orderByInput:{field:"",dir:"ASC"},unionAllNext:!1}}function a(){return{name:"cte_1",isCTE:!0,queries:[l()],currentQueryIndex:0}}const c=s.Ay.observable({schema:o,queries:[l()],currentQueryIndex:0,ctes:[],currentCTEIndex:-1}),u={currentQuery(){return c.queries[c.currentQueryIndex]},currentCTE(){return c.currentCTEIndex>=0?c.ctes[c.currentCTEIndex]:null},currentItem(){if(c.currentCTEIndex>=0){const e=c.ctes[c.currentCTEIndex];return e.queries[e.currentQueryIndex]}return c.queries[c.currentQueryIndex]},allAvailableTables(){const e=c.schema.tables.map(e=>e.name),t=c.ctes.map(e=>e.name);return[...e,...t]}},d={reset(){c.queries=[l()],c.currentQueryIndex=0,c.ctes=[],c.currentCTEIndex=-1},addQuery(){const e=l();e.name=`Запрос ${c.queries.length+1}`,c.queries.push(e),c.currentQueryIndex=c.queries.length-1,c.currentCTEIndex=-1},removeQuery(e){1!==c.queries.length&&(c.queries.splice(e,1),c.currentQueryIndex>=c.queries.length&&(c.currentQueryIndex=c.queries.length-1))},selectQuery(e){e>=0&&e<c.queries.length&&(c.currentQueryIndex=e,c.currentCTEIndex=-1)},addCTE(){const e=a();e.name=`cte_${c.ctes.length+1}`,c.ctes.push(e),c.currentCTEIndex=c.ctes.length-1},removeCTE(e){0!==c.ctes.length&&(c.ctes.splice(e,1),c.currentCTEIndex>=c.ctes.length&&(c.currentCTEIndex=c.ctes.length>0?c.ctes.length-1:-1))},selectCTE(e){e>=0&&e<c.ctes.length?c.currentCTEIndex=e:c.currentCTEIndex=-1},addCTEQuery(){if(c.currentCTEIndex>=0){const e=c.ctes[c.currentCTEIndex],t=l();t.name=`Подзапрос ${e.queries.length+1}`,e.queries.push(t),e.currentQueryIndex=e.queries.length-1}},removeCTEQuery(e){if(c.currentCTEIndex>=0){const t=c.ctes[c.currentCTEIndex];if(1===t.queries.length)return;t.queries.splice(e,1),t.currentQueryIndex>=t.queries.length&&(t.currentQueryIndex=t.queries.length-1)}},selectCTEQuery(e){if(c.currentCTEIndex>=0){const t=c.ctes[c.currentCTEIndex];e>=0&&e<t.queries.length&&(t.currentQueryIndex=e)}}};function p(e){return String(e||"").replace(/[^a-zA-Z0-9_\.]/g,"")}function m(e){if(null==e)return"NULL";const t=(""+e).trim();return/^\(.*\)$/.test(t)||/^\d+(\.\d+)?$/.test(t)||/^'.*'$/.test(t)||/^".*"$/.test(t)?t:"'"+t.replace(/'/g,"''")+"'"}function f(e){let t=e.selectedTables[0];if(!t&&e.fields.length&&(t=e.fields[0].table),!t)return"-- Добавьте хотя бы одно поле или выберите таблицу";const n=p(t),s=e.fields.filter(t=>e.fields.find(e=>e.table===t.table&&e.name===t.name)),r=s.length>0?s.map(e=>{let t=e.expression||`${e.table}.${e.name}`;const n=/^(COUNT|SUM|AVG|MIN|MAX)\s*\(/i.test(t);if(e.agg&&!n)if(e.expression&&e.expression!==`${e.table}.${e.name}`)t=e.agg+"("+t+")";else{const n=p(e.table)+"."+p(e.name);t=e.agg+"("+n+")"}return e.alias?t+" AS "+p(e.alias):t}):["*"],i=(e.joins||[]).map(e=>{if(!e.rightTable)return null;const t=e.type||"INNER",n=(e.on||[]).filter(e=>e.left&&e.right).map(e=>`${p(e.left)} ${e.op||"="} ${p(e.right)}`),s=n.length?" ON "+n.join(" AND "):"";return`${t} JOIN ${p(e.rightTable)}${s}`}).filter(Boolean),o=[];for(let f=0;f<e.filters.length;f++){const t=e.filters[f];if(!t.field||!t.op)continue;let n;const s=p(t.field),r=t.op.toUpperCase();if("IS NULL"===r||"IS NOT NULL"===r)n=`${s} ${r}`;else if("IN"===r)n=`${s} IN ${m(t.value)}`;else if("BETWEEN"===r){const[e,r]=(""+(t.value||"")).split(",");n=`${s} BETWEEN ${m(e)} AND ${m(r)}`}else n="LIKE"===r?`${s} LIKE ${m(t.value)}`:`${s} ${r} ${m(t.value)}`;if(n){o.push(n);const s=(t.logic||"AND").toUpperCase();f<e.filters.length-1&&o.push(s)}}const l=e.groupBy.length?"\nGROUP BY "+e.groupBy.map(p).join(", "):"",a=e.orderBy.length?"\nORDER BY "+e.orderBy.map(e=>`${p(e.field)} ${e.dir||"ASC"}`).join(", "):"",c=null!=e.limit&&""!==e.limit?"\nLIMIT "+Number(e.limit):"",u=null!=e.offset&&""!==e.offset?"\nOFFSET "+Number(e.offset):"";let d=`SELECT\n  ${r.join(",\n  ")}\nFROM ${n}`;return i.length&&(d+="\n"+i.join("\n")),o.length&&(d+="\nWHERE "+o.join(" ")),d+=l+a+c+u,d}function h(e){const t=e.queries||[];if(0===t.length)return"";const n=[];for(let s=0;s<t.length;s++){const e=t[s],r=f(e);0===s?n.push(r):n.push(`${e.unionAllNext?"UNION ALL":"UNION"}\n${r}`)}return n.join("\n")}function v(e,t=[]){const n=[];if(t&&t.length>0){const e=t.map(e=>{const t=h(e);return`${e.name} AS (\n${t.split("\n").map(e=>"  "+e).join("\n")}\n)`});n.push(`WITH ${e.join(",\n")}\n`)}for(let s=0;s<e.length;s++){const t=e[s],r=f(t);0===s?n.push(r):n.push(`\n${t.unionAllNext?"UNION ALL":"UNION"}\n${r}`)}return n.join("")}function g(e){if(!e||"string"!==typeof e)throw new Error("SQL текст должен быть строкой");const t=e.trim().replace(/\s+/g," ");console.log("Очищенный SQL:",t);const n={ctes:[],queries:[]};try{const{ctesPart:e,mainQueryPart:s}=y(t);return console.log("CTE часть:",e),console.log("Основная часть:",s),e&&(n.ctes=C(e),console.log("Парсированные CTE:",n.ctes)),s&&(n.queries=E(s),console.log("Парсированные запросы:",n.queries)),n}catch(s){throw console.error("Ошибка в parseCompleteSQL:",s),new Error(`Ошибка парсинга SQL: ${s.message}`)}}function y(e){const t=/^WITH\s+/i;if(!t.test(e))return{ctesPart:null,mainQueryPart:e};let n=0,s=!1,r="",i=5;while(i<e.length&&/\s/.test(e[i]))i++;while(i<e.length){const t=e[i],o=i>0?e[i-1]:"";if('"'!==t&&"'"!==t||"\\"===o||(s?t===r&&(s=!1,r=""):(s=!0,r=t)),!s)if("("===t)n++;else if(")"===t)n--;else if(0===n){const t=e.substring(i);if(/^\s*SELECT\s+/i.test(t)){const n=e.substring(5,i).trim(),s=t.trim();return{ctesPart:n,mainQueryPart:s}}}i++}return{ctesPart:e.substring(5).trim(),mainQueryPart:""}}function C(e){const t=[],n=x(e);return n.forEach(e=>{const n=b(e.trim());n&&t.push(n)}),t}function x(e){const t=[];let n="",s=0,r=!1,i="";for(let o=0;o<e.length;o++){const l=e[o],a=o>0?e[o-1]:"";if('"'!==l&&"'"!==l||"\\"===a||(r?l===i&&(r=!1,i=""):(r=!0,i=l)),!r)if("("===l)s++;else if(")"===l)s--;else if(","===l&&0===s){t.push(n.trim()),n="";continue}n+=l}return n.trim()&&t.push(n.trim()),t}function b(e){const t=e.match(/^(\w+)\s+AS\s+\((.+)\)$/i);if(!t)return null;const n=t[1],s=t[2],r=_(s);return{name:n,isCTE:!0,queries:r,currentQueryIndex:0}}function E(e){return _(e)}function _(e){const t=[],n=T(e);return n.forEach((e,n)=>{const s=I(e.query);s&&(s.unionAllNext=e.isUnionAll,s.name=`Запрос ${n+1}`,t.push(s))}),t}function T(e){const t=[];let n="",s=0,r=!1,i="",o=0;while(o<e.length){const l=e[o],a=o>0?e[o-1]:"";if('"'!==l&&"'"!==l||"\\"===a||(r?l===i&&(r=!1,i=""):(r=!0,i=l)),!r)if("("===l)s++;else if(")"===l)s--;else if(0===s){const l=e.substring(o),a=l.match(/^\s*UNION(\s+ALL)?\s+/i);if(a){const l=!!a[1];n.trim()&&t.push({query:n.trim(),isUnionAll:!1}),n="",o+=a[0].length,0===t.length&&t.push({query:"",isUnionAll:!1});const c={isUnionAll:l};let u="";while(o<e.length){const t=e[o],n=e.substring(o),l=n.match(/^\s*UNION(\s+ALL)?\s+/i);if(l&&0===s&&!r)break;"("!==t||r?")"!==t||r?'"'!==t&&"'"!==t||"\\"===e[o-1]||(r?t===i&&(r=!1,i=""):(r=!0,i=t)):s--:s++,u+=t,o++}u.trim()&&t.push({query:u.trim(),isUnionAll:c.isUnionAll}),n="";continue}}n+=l,o++}return n.trim()&&t.push({query:n.trim(),isUnionAll:!1}),0===t.length&&e.trim()&&t.push({query:e.trim(),isUnionAll:!1}),t}function I(e){console.log("Парсим SELECT запрос:",e);const t={name:"",selectedTables:[],fields:[],joins:[],filters:[],groupBy:[],orderBy:[],limit:null,offset:null,unionAllNext:!1,groupByInput:"",orderByInput:{field:"",dir:"ASC"}};try{const n=S(e);return console.log("Части запроса:",n),n.select&&(console.log("Парсим SELECT:",n.select),N(n.select,t)),n.from&&(console.log("Парсим FROM:",n.from),L(n.from,t)),n.joins&&(console.log("Парсим JOIN:",n.joins),A(n.joins,t)),n.where&&(console.log("Парсим WHERE:",n.where),$(n.where,t)),n.groupBy&&(console.log("Парсим GROUP BY:",n.groupBy),B(n.groupBy,t)),n.orderBy&&(console.log("Парсим ORDER BY:",n.orderBy),k(n.orderBy,t)),n.limit&&(console.log("Парсим LIMIT:",n.limit),q(n.limit,t)),console.log("Итоговый запрос:",t),t}catch(n){throw console.error("Ошибка парсинга SELECT запроса:",n),n}}function S(e){const t={};console.log("Разбираем SQL на части:",e);const n=e.match(/SELECT\s+(.*?)(?:\s+FROM|$)/is),s=e.match(/FROM\s+(.*?)(?:\s+(?:(?:LEFT|RIGHT|INNER|FULL)?\s*JOIN|WHERE|GROUP\s+BY|ORDER\s+BY|LIMIT)|$)/is),r=[];let i=0;while(1){const t=e.substring(i).search(/\b(?:LEFT|RIGHT|INNER|FULL)?\s*JOIN\b/i);if(-1===t)break;const n=i+t,s=n;let o=s,l=0,a=!1,c="";const u=e.substring(s).match(/\bJOIN\s+\w+\s+ON\b/i);if(!u){i=s+1;continue}o=s+u.index+u[0].length;while(o<e.length){const t=e[o],n=o>0?e[o-1]:"";if('"'!==t&&"'"!==t||"\\"===n||(a?t===c&&(a=!1,c=""):(a=!0,c=t)),!a)if("("===t)l++;else if(")"===t)l--;else if(0===l){const t=e.substring(o);if(/^\s*(?:LEFT|RIGHT|INNER|FULL)?\s*JOIN\b/i.test(t)||/^\s*WHERE\b/i.test(t)||/^\s*GROUP\s+BY\b/i.test(t)||/^\s*ORDER\s+BY\b/i.test(t)||/^\s*LIMIT\b/i.test(t))break}o++}const d=e.substring(s,o).trim();d&&(r.push(d),console.log("Найден JOIN:",d)),i=o}const o=e.match(/WHERE\s+(.*?)(?:\s+(?:GROUP\s+BY|ORDER\s+BY|LIMIT)|$)/is),l=e.match(/GROUP\s+BY\s+(.*?)(?:\s+(?:ORDER\s+BY|LIMIT)|$)/is),a=e.match(/ORDER\s+BY\s+(.*?)(?:\s+LIMIT|$)/is),c=e.match(/LIMIT\s+(\d+)(?:\s+OFFSET\s+(\d+))?/i);return n&&(t.select=n[1].trim()),s&&(t.from=s[1].trim()),r.length>0&&(t.joins=r),o&&(t.where=o[1].trim()),l&&(t.groupBy=l[1].trim()),a&&(t.orderBy=a[1].trim()),c&&(t.limit=c[0].trim()),console.log("Результат разбора:",t),t}function N(e,t){const n=F(e);n.forEach(e=>{const n=w(e.trim());n&&t.fields.push(n)})}function w(e){console.log("Парсим поле:",e);const t={table:null,name:"custom_field",alias:"",agg:"",expression:e};let n=e;const s=n.match(/^(.+?)\s+(?:AS\s+)?(\w+)$/i);s&&(t.expression=s[1].trim(),t.alias=s[2],n=s[1].trim());const r=n.match(/^(COUNT|SUM|AVG|MIN|MAX)\s*\(/i);if(r){t.agg=r[1].toUpperCase();const e=n.match(/\((.+)\)/);if(e){const n=e[1].trim(),s=n.replace(/\)\s*$/,"").trim();if(t.expression=s,"*"===s)t.table=null,t.name="*";else{const e=s.match(/^(\w+)\.(\w+)$/);e?(t.table=e[1],t.name=e[2]):s.includes("(")||(t.name=s)}}}else{const e=n.match(/^(\w+)\.(\w+)$/);e?(t.table=e[1],t.name=e[2]):"*"===n||n.includes("(")||(t.name=n)}return console.log("Результат парсинга поля:",t),t}function L(e,t){const n=e.split(/\s+/)[0];n&&t.selectedTables.push(n)}function A(e,t){console.log("Парсим JOIN тексты:",e),e.forEach(e=>{const n=Q(e);n?(t.joins.push(n),console.log("Добавлен JOIN в запрос:",n)):console.log("Не удалось распарсить JOIN:",e)}),console.log("Итоговые JOIN в запросе:",t.joins)}function Q(e){console.log("Парсим JOIN:",e);const t=e.match(/^(LEFT|RIGHT|INNER|FULL)?\s*JOIN\s+(\w+)\s+ON\s+(.+)$/i);if(!t)return console.log("Не удалось распарсить JOIN:",e),null;console.log("Найденные группы в JOIN:",t);const n={type:(t[1]||"INNER").toUpperCase(),rightTable:t[2],on:[]};console.log("Создан JOIN объект:",n);const s=U(t[3]);return console.log("Условия ON:",s),s.forEach(e=>{const t=e.condition.trim().match(/^(.+?)\s*(=|!=|>|<|>=|<=)\s*(.+)$/);t&&n.on.push({left:t[1].trim(),op:t[2],right:t[3].trim()})}),console.log("Итоговый JOIN:",n),n}function $(e,t){const n=U(e);n.forEach((e,s)=>{const r=O(e.condition);r&&(r.logic=s<n.length-1?e.nextOperator:"AND",t.filters.push(r))})}function O(e){const t=e.trim().match(/^(.+?)\s*(=|!=|>|<|>=|<=|LIKE|IN|BETWEEN|IS\s+NULL|IS\s+NOT\s+NULL)\s*(.*)$/i);return t?{field:t[1].trim(),op:t[2].toUpperCase().replace(/\s+/g," "),value:t[3]?t[3].trim():"",logic:"AND"}:null}function B(e,t){const n=F(e);t.groupBy=n.map(e=>e.trim())}function k(e,t){const n=F(e);n.forEach(e=>{const n=e.trim().match(/^(.+?)\s+(ASC|DESC)$/i);n?t.orderBy.push({field:n[1].trim(),dir:n[2].toUpperCase()}):t.orderBy.push({field:e.trim(),dir:"ASC"})})}function q(e,t){const n=e.match(/LIMIT\s+(\d+)(?:\s+OFFSET\s+(\d+))?/i);n&&(t.limit=parseInt(n[1]),n[2]&&(t.offset=parseInt(n[2])))}function F(e){const t=[];let n="",s=0,r=!1,i="";for(let o=0;o<e.length;o++){const l=e[o],a=o>0?e[o-1]:"";if('"'!==l&&"'"!==l||"\\"===a||(r?l===i&&(r=!1,i=""):(r=!0,i=l)),!r)if("("===l)s++;else if(")"===l)s--;else if(","===l&&0===s){t.push(n.trim()),n="";continue}n+=l}return n.trim()&&t.push(n.trim()),t}function U(e){const t=[],n=e.split(/\s+(AND|OR)\s+/i);for(let s=0;s<n.length;s+=2){const e=n[s],r=n[s+1]||"AND";t.push({condition:e.trim(),nextOperator:r.toUpperCase()})}return t}const j={name:"App",data(){return{store:c,expanded:{},isEditingSQL:!1,editableSQL:""}},computed:{current(){return u.currentItem()},allTables(){const e=this.store.schema.tables.map(e=>e.name),t=this.store.ctes.map(e=>e.name);return Array.from(new Set([...e,...t,...this.current.selectedTables]))},availableFields(){const e=new Set(this.current.selectedTables);for(const n of this.current.fields)e.add(n.table);const t=[];for(const n of this.store.schema.tables)if(e.has(n.name))for(const e of n.fields)t.push(`${n.name}.${e.name}`);for(const n of this.store.ctes){if(!e.has(n.name))continue;const s=n.queries&&n.queries.length>0?n.queries[0]:null;if(s)for(const e of s.fields){const s=e.alias||e.name;t.push(`${n.name}.${s}`)}}return t},sql(){return v(this.store.queries,this.store.ctes)},extendedSchema(){const e=this.store.ctes.map(e=>{const t=e.queries&&e.queries.length>0?e.queries[0]:null,n=t?t.fields.map(e=>({name:e.alias||e.name})):[];return{name:e.name,fields:n,isCTE:!0}});return{tables:[...this.store.schema.tables,...e]}},currentCTE(){return u.currentCTE()}},methods:{addQuery:d.addQuery,removeQuery:d.removeQuery,selectQuery:d.selectQuery,addCTE:d.addCTE,removeCTE:d.removeCTE,selectCTE:d.selectCTE,addCTEQuery:d.addCTEQuery,removeCTEQuery:d.removeCTEQuery,selectCTEQuery:d.selectCTEQuery,isExpanded(e){return!!this.expanded[e]},toggleExpand(e){this.$set(this.expanded,e,!this.expanded[e])},isTableInFrom(e){return this.current.selectedTables.length>0&&this.current.selectedTables[0]===e},isTableInJoin(e){return this.current.joins.some(t=>t.rightTable===e)},isTableAvailable(e){return this.isTableInFrom(e)||this.isTableInJoin(e)},ensureTableAvailable(e){this.isTableAvailable(e)||this.current.joins.push({type:"LEFT",rightTable:e,on:[]})},extractTablesFromExpression(e){if(!e)return[];const t=/\b([a-zA-Z_][a-zA-Z0-9_]*)\./g,n=new Set;let s;while(null!==(s=t.exec(e)))n.add(s[1]);return Array.from(n)},ensureTablesFromExpression(e){const t=this.extractTablesFromExpression(e);t.forEach(e=>{this.current.selectedTables.includes(e)||this.current.selectedTables.push(e),this.store.schema.tables.find(t=>t.name===e)||this.store.schema.tables.push({name:e,fields:[]}),this.ensureTableAvailable(e)})},addFieldFromSidebar(e,t){this.isFieldSelected(e,t)||this.current.fields.push({table:e,name:t,alias:"",agg:"",expression:`${e}.${t}`}),this.current.selectedTables.includes(e)||this.current.selectedTables.push(e),this.ensureTableAvailable(e)},isTableSelected(e){return this.current.selectedTables.includes(e)},isFieldSelected(e,t){return!!this.current.fields.find(n=>n.table===e&&n.name===t)},findOrCreateField(e,t){let n=this.current.fields.find(n=>n.table===e&&n.name===t);return n||(n={table:e,name:t,alias:"",agg:"",expression:`${e}.${t}`},this.current.fields.push(n)),n},removeField(e,t){const n=this.current.fields.findIndex(n=>n.table===e&&n.name===t);-1!==n&&this.current.fields.splice(n,1)},moveFieldUp(e){if(e<=0)return;const t=this.current.fields,n=t[e-1];this.$set(t,e-1,t[e]),this.$set(t,e,n)},moveFieldDown(e){const t=this.current.fields;if(e<0||e>=t.length-1)return;const n=t[e+1];this.$set(t,e+1,t[e]),this.$set(t,e,n)},addCustomField(){this.current.fields.push({table:null,name:"custom_field",alias:"",agg:"",expression:"NULL"})},onFieldExpressionChange(e){e.expression&&this.ensureTablesFromExpression(e.expression)},addJoin(){this.current.joins.push({type:"INNER",rightTable:this.current.selectedTables[0]||"",on:[]})},removeJoin(e){this.current.joins.splice(e,1)},addJoinCondition(e){e.on.push({left:"",op:"=",right:""})},removeJoinCondition(e,t){e.on.splice(t,1)},addFilter(){this.current.filters.push({field:"",op:"=",value:"",logic:"AND"})},removeFilter(e){this.current.filters.splice(e,1)},addGroup(){const e=(this.current.groupByInput||"").split(",").map(e=>e.trim()).filter(Boolean);this.current.groupBy.push(...e),this.current.groupByInput=""},removeGroup(e){this.current.groupBy.splice(e,1)},addOrder(){this.current.orderByInput.field&&(this.current.orderBy.push({field:this.current.orderByInput.field,dir:this.current.orderByInput.dir||"ASC"}),this.current.orderByInput={field:"",dir:"ASC"})},removeOrder(e){this.current.orderBy.splice(e,1)},copySQL(){const e=this.sql;navigator.clipboard?.writeText(e).catch(()=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)})},startSQLEditing(){this.isEditingSQL=!0,this.editableSQL=this.sql},cancelSQLEditing(){this.isEditingSQL=!1,this.editableSQL=""},applySQLChanges(){try{console.log("Применяем SQL:",this.editableSQL),this.parseAndApplySQL(this.editableSQL),this.isEditingSQL=!1,this.editableSQL="",console.log("SQL успешно применен")}catch(e){alert("Ошибка при разборе SQL: "+e.message),console.error("Ошибка парсинга SQL:",e)}},parseAndApplySQL(e){const t=g(e);console.log("Результат парсинга:",t);const n={queries:JSON.parse(JSON.stringify(this.store.queries)),ctes:JSON.parse(JSON.stringify(this.store.ctes)),currentQueryIndex:this.store.currentQueryIndex,currentCTEIndex:this.store.currentCTEIndex};try{this.store.ctes=t.ctes.map(e=>({...e,queries:e.queries.map(e=>this.normalizeQuery(e))})),this.store.queries=t.queries.map(e=>this.normalizeQuery(e)),0===this.store.queries.length&&(this.store.queries=[this.createEmptyQuery()]),this.store.currentQueryIndex>=this.store.queries.length&&(this.store.currentQueryIndex=0),this.store.currentCTEIndex>=this.store.ctes.length&&(this.store.currentCTEIndex=-1),this.updateSchemaFromParsedData(t)}catch(s){throw this.store.queries=n.queries,this.store.ctes=n.ctes,this.store.currentQueryIndex=n.currentQueryIndex,this.store.currentCTEIndex=n.currentCTEIndex,s}},normalizeQuery(e){return{name:e.name||"Запрос",selectedTables:e.selectedTables||[],fields:e.fields||[],joins:e.joins||[],filters:e.filters||[],groupBy:e.groupBy||[],orderBy:e.orderBy||[],limit:e.limit||null,offset:e.offset||null,unionAllNext:e.unionAllNext||!1,groupByInput:e.groupByInput||"",orderByInput:e.orderByInput||{field:"",dir:"ASC"}}},createEmptyQuery(){return{name:"Запрос",selectedTables:[],fields:[],joins:[],filters:[],groupBy:[],orderBy:[],limit:null,offset:null,unionAllNext:!1,groupByInput:"",orderByInput:{field:"",dir:"ASC"}}},updateSchemaFromParsedData(e){const t=new Set;e.ctes.forEach(e=>{e.queries.forEach(e=>{e.selectedTables.forEach(e=>t.add(e)),e.joins.forEach(e=>t.add(e.rightTable))})}),e.queries.forEach(e=>{e.selectedTables.forEach(e=>t.add(e)),e.joins.forEach(e=>t.add(e.rightTable))}),t.forEach(e=>{this.store.schema.tables.find(t=>t.name===e)||this.store.schema.tables.push({name:e,fields:[]})})},tableFields(e){const t=this.extendedSchema.tables.find(t=>t.name===e);return t?t.fields:[]}}},R=j;var P=n(656),J=(0,P.A)(R,r,i,!1,null,"64bc7f3b",null);const M=J.exports;s.Ay.config.productionTip=!1,new s.Ay({render:e=>e(M)}).$mount("#app")}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,s,r,i)=>{if(!s){var o=1/0;for(u=0;u<e.length;u++){for(var[s,r,i]=e[u],l=!0,a=0;a<s.length;a++)(!1&i||o>=i)&&Object.keys(n.O).every(e=>n.O[e](s[a]))?s.splice(a--,1):(l=!1,i<o&&(o=i));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,r,i]}})(),(()=>{n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var r,i,[o,l,a]=s,c=0;if(o.some(t=>0!==e[t])){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(a)var u=a(n)}for(t&&t(s);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},s=self["webpackChunksql_constructor_vue2"]=self["webpackChunksql_constructor_vue2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=n.O(void 0,[504],()=>n(181));s=n.O(s)})();
//# sourceMappingURL=app.fbf378d8.js.map